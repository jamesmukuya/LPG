{% extends "base/crew-base.html" %}
<!-- TITLE -->
{% block title %} {{title}} {% endblock title %}
<!-- TITLE -->
<!-- STYLE SHEETS -->
{% block stylesheets %}

{% endblock stylesheets %}
<!-- STYLE SHEETS -->
<!-- BOKEH SCRIPTS -->
{% block bokeh_scripts %}
	{{fig_script|safe}}
	{{flt_profile_script|safe}}
{% endblock bokeh_scripts %}
<!-- END BOKEH SCRIPTS -->
<!-- CONTENT START-->
{% block content %}
<div class="flex bg-gray-100 sm:w-auto">
	<div class="flex flex-col w-full">
		<div class="summary-wrapper bg-gray-500 rounded shadow-lg">
			<!-- CREW PERFORMANCE -->
			<div class="perf-summary flex flex-col sm:flex-row content-between">
				<div class="mx-1 my-2 bg-green-100 border border-green-500 text-gray-700 px-4 py-3">
					<p class="font-bold">My Total Flight Count</p>
					<p class="text-2xl">{{flight_count}}</p>
				</div>
				<div class="mx-1 my-2 bg-green-300 border border-orange-500 text-gray-700 px-4 py-3">
					<p class="font-bold">My Total Fuel Saved</p>
					<p class="text-2xl">{{tot_fuel}} kg</p>
				</div>
				<div class="mx-1 my-6 bg-green-500 border border-red-500 text-white px-4 py-3">
					<p class="font-bold">My Best Route</p>
					<p class="text-xl">{{best_route}}</p>
					<p class="text-4xl">{{max_fuel}} kg</p>
				</div>
			</div>
		</div>
		<!-- CREW PERFORMANCE -->
		<div class="graph-table-wrapper bg-gray-300 rounded shadow-sm">
			<!--GRAPH AND TABLE-->
			<div class="flex sm:flex-row my-4 mx-4">
				{{fig_div|safe}}
				<!-- FLIGHT PROFILE -->
				<div class="flex flex-col mx-4">
					<div class="mx-4 my-1 bg-green-100 border border-green-500 text-gray-700 px-4 py-3">
						<p class="font-bold">My Flight Profile</p>
					</div>
					<div class="mx-4 my-2 bg-gray-300 rounded shadow-sm">
						{{flt_profile_div|safe}}
					</div>
				</div>
				<div class="parameter-wrapper flex flex-col bg-gray-500 rounded shadow-lg">
					<div class="mx-4 my-1 bg-green-100 border border-green-500 text-gray-700 px-4 py-3">
						<p class="font-bold text-center">Filter Profile</p>
					</div>
					<!-- DATE SELECTION -->
					<div class="date-div flex sm:flex-row my-2 mx-2">
						<label class="block text-gray-700 text-sm font-bold mb-2 mx-1 my-2" for="fltDate">
							Date:
						</label>
						<input type="date" id="fltDate" class="shadow border border-gray-800 rounded w-36 mb-2 mr-1 h-8 py-2 px-1 
						font-semibold text-gray-700 leading-tight" name="Date_from" value="{{min_date}}" 
						min="" max="">
					</div>
					<div class="flight-div flex sm:flex-row my-2 mx-2">
						<label class="block text-gray-700 text-sm font-bold mb-2 mx-1 my-2" for="flightDatalist">
							Flight:
						</label>
						<input list='flightDatalist'>
						<datalist id='flightDatalist'>
							{#
							{% for operator in opr_names %}
							<option value={{operator}}></option>
							{% endfor %}
							#}
							<option value="JSA121"></option>
							<option value="JSA122"></option>
							<option value="JSA123"></option>
							<option value="JSA124"></option>
						</datalist>
					</div>
					<div class="filter-profile my-2 mx-2">
						<!-- Submit btn -->
						<button id="filterProfile" type="submit" name="filter-profile" 
						class="bg-green-500 hover:bg-blue-700 text-white font-bold py-1 px-2 my-1 rounded focus:outline-none focus:shadow-outline">
						Generate Profile
						</button>
					</div>
				</div>
			</div>
		</div>
		<!-- TABLE -->
		<div class="table-wrapper overflow-y-scroll">
			<div class="mx-1 my-1 bg-green-100 border border-green-500 text-gray-700 px-4 py-3">
				<p class="font-bold">My Flight Operations Procedures</p>
			</div>
			{{ops_table|safe}}
		</div>
	</div>

</div>

{% endblock content %}